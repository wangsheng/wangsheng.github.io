<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="baidu-site-verification" content="4VgVZ78vNs"><meta name="google-site-verification" content="fFPOHpbXBh9IoQIShIVnGpxUmWIa55Aa1187v0em7Lo"><meta name="description"><title>GitLab持续集成CI | Victor</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.1.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.3/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">GitLab持续集成CI</h1><a id="logo" href="/.">Victor</a><p class="description">问渠哪得清如许，为有源头活水来</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">GitLab持续集成CI</h1><div class="post-meta">Feb 21, 2019<span> | </span><span class="category"><a href="/categories/Git/">Git</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="2019/02/21/GitLab持续集成CI/" href="/2019/02/21/GitLab持续集成CI/#comments" class="ds-thread-count"></a><div class="post-content"><p>在软件开发中，对于开发人员来说，负责编写代码来完成需求的开发或者Bug的修复。如果是Web类型的应用，开发结束后，如何发布供用户访问呢？</p>
<p>在传统的方式中，每次开发完代码后，由开发将代码转交给运维人员，然后由运维人员来将代码发布到Web服务器上，供用户访问使用。</p>
<p>但是互联网讲究的是敏捷开发，所以要面临频繁的发版需求；再加上一般分为测试环境(test)、预发布环境(pre)和正式环境(pro)。这样一来，高频次发版 + 多环境发布使这种跨部门的传统发布模式与敏捷开发的思想格格不入。那么，有没有一种自动化的方案来完成这样重复无味的工作呢？</p>
<p>如果你们使用Git作为版本控制工具，且使用GitLab作为源码托管的话，那么就可以使用GitLab(8.0及以上版本)自带的CI拓展功能完成自动化构建和部署，即CI(Continuous Integration)/CD(Continuous Delivery)。</p>
<h2 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h2><h3 id="GitLab-CI"><a href="#GitLab-CI" class="headerlink" title="GitLab-CI"></a>GitLab-CI</h3><p>GitLab从8.0版本开始，推出了自动化集成和部署的解决方案：<a href="https://docs.gitlab.com/ce/ci/quick_start/README.html" target="_blank" rel="noopener">Gitlab-CI</a>，并且对现有项目默认开启。如果项目中需要自动化集成，那么只需要在项目仓库的根目录添加 <code>.gitlab-ci.yml</code>文件，指定执行构建的 <a href="https://docs.gitlab.com/ce/ci/runners/README.html" target="_blank" rel="noopener">GitLab-Runner</a> ，那么之后每一次合并请求(MR)或者推送代码(Push)都会触发CI的<a href="https://docs.gitlab.com/ce/ci/pipelines.html" target="_blank" rel="noopener">任务流水线(Pipeline)</a>。</p>
<h3 id="GitLab-Runner"><a href="#GitLab-Runner" class="headerlink" title="GitLab-Runner"></a>GitLab-Runner</h3><p>Gitlab-Runner 是具体执行构建和部署任务的执行器。Runner可以跟Gitlab安装台同一台机器上，但是考虑到Runner的资源消耗问题和安全性问题，官方不建议将Runner和Gitlab安装台一台物理机上。</p>
<p>Runner又分为两种：</p>
<ul>
<li>Shared Runners 可以运行开启了 <code>Allow shared runners</code> 选项的所有项目</li>
<li>Specific Runners 只能运行指定的项目 </li>
</ul>
<h3 id="任务流水线-Pipelines"><a href="#任务流水线-Pipelines" class="headerlink" title="任务流水线 Pipelines"></a>任务流水线 Pipelines</h3><p><img src="https://docs.gitlab.com/ce/ci/img/types-of-pipelines.png" alt></p>
<p>Pipelines是指不同阶段的一组任务。同一个阶段的任务可以并行执行(如果有足够多的并行Runner)，如果此阶段的任务都执行成功，则流水线会自动进入下一个阶段。如果某一个任务执行失败，则下一阶段的任务不会执行。可以通过点击管理界面中的Pipelines标签，来查看GitLab上的流水线页面。</p>
<h4 id="开发工作流"><a href="#开发工作流" class="headerlink" title="开发工作流"></a>开发工作流</h4><p><img src="https://docs.gitlab.com/ce/ci/img/pipelines-goal.png" alt></p>
<ol>
<li>Branch Flow： 例如基于dev、qa、staging、production的不同分支</li>
<li>Trunk-based Flow： 例如特性分支和单个master分支，可能带有发布tag</li>
<li>Fork-based Flow： 例如来自于forks的合并请求</li>
</ol>
<h3 id="徽章-Badges"><a href="#徽章-Badges" class="headerlink" title="徽章 Badges"></a>徽章 Badges</h3><p>GitLab从10.7开始，引入徽章的感念。它包含Pipeline状态以及测试覆盖报告等类型的徽章。</p>
<p><img src="http://img.iaquam.com/image/png/gitlab-badges.png" alt></p>
<h2 id="1-安装-GitLab-Runner"><a href="#1-安装-GitLab-Runner" class="headerlink" title="1. 安装 GitLab-Runner"></a>1. 安装 GitLab-Runner</h2><p>以Centos为例，其他机型参见<a href="https://docs.gitlab.com/runner/install/linux-repository.html" target="_blank" rel="noopener">官方文档</a></p>
<ol>
<li><p>添加GitLab官方仓库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.rpm.sh | sudo bash</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装最新版本的GitLab Runner，如果需要安装制定版本的Runner，可以跳过此步</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install gitlab-runner</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装指定版本的GitLab Runner</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yum list gitlab-runner --showduplicates | sort -r</span><br><span class="line">sudo yum install gitlab-runner-10.0.0-1</span><br></pre></td></tr></table></figure>
</li>
<li><p>升级GitLab Runner</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yum update</span><br><span class="line">sudo yum install gitlab-ci-multi-runner</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="2-注册GitLab-Runner"><a href="#2-注册GitLab-Runner" class="headerlink" title="2. 注册GitLab-Runner"></a>2. 注册GitLab-Runner</h2><h3 id="注册一个共享Runner"><a href="#注册一个共享Runner" class="headerlink" title="注册一个共享Runner"></a>注册一个共享Runner</h3><ol>
<li><p>访问GitLab的 <code>admin/runners</code> 页面，获取共享Runner的token<br><img src="https://docs.gitlab.com/ee/ci/runners/img/shared_runners_admin.png" alt></p>
</li>
<li><p>注册Runner<br>从GitLab8.2开始，共享Runners默认是开启状态。但是你可以通过每个项目的 <code>Settings -&gt; CI/CD</code>页面手动禁用。之前版本的共享Runners默认是禁用状态。</p>
<p>以GNU/Linux为例，以下是注册的操作步骤：</p>
<ol>
<li><p>运行以下命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gitlab-runner register</span><br></pre></td></tr></table></figure>
</li>
<li><p>填写GitLab示例URL</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Please enter the gitlab-ci coordinator URL (e.g. https://gitlab.com )</span><br><span class="line">https://gitlab.com</span><br></pre></td></tr></table></figure>
</li>
<li><p>填写GitLab-CI的token</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Please enter the gitlab-ci token for this runner</span><br><span class="line"> xxx</span><br></pre></td></tr></table></figure>
</li>
<li><p>给Runner起一个名字，以后也可以通过GitLab的UI页面修改此名字</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Please enter the gitlab-ci description for this runner</span><br><span class="line">[hostame] my-runner</span><br></pre></td></tr></table></figure>
</li>
<li><p>给Runner打一个标签，以后也可以通过GitLab的UI页面修改此标签</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Please enter the gitlab-ci tags for this runner (comma separated):</span><br><span class="line">my-tag,another-tag</span><br></pre></td></tr></table></figure>
</li>
<li><p>输入Runner的执行器</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Please enter the executor: ssh, docker+machine, docker-ssh+machine, kubernetes, docker, parallels, virtualbox, docker-ssh, shell:</span><br><span class="line">docker</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果你选择Docker作为执行器，注册引导程序会问你要docker的镜像文件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Please enter the Docker image (eg. ruby:2.1):</span><br><span class="line">alpine:latest</span><br></pre></td></tr></table></figure>
<p><img src="http://img.iaquam.com/image/png/gitlab-runner1.png" alt></p>
</li>
</ol>
</li>
</ol>
<h3 id="注册一个特定Runner"><a href="#注册一个特定Runner" class="headerlink" title="注册一个特定Runner"></a>注册一个特定Runner</h3><p>可以通过以下两种方式，创建特定Runner：</p>
<ol>
<li>使用项目级别的注册token创建一个Runner</li>
<li>转换一个共享的Runner为特定Runner(这种方法需要你是平台管理员)</li>
</ol>
<p>更多详细资料，请参见<a href="https://docs.gitlab.com/runner/register/index.html" target="_blank" rel="noopener">官方文档</a></p>
<h2 id="3-配置CI"><a href="#3-配置CI" class="headerlink" title="3. 配置CI"></a>3. 配置CI</h2><p>对于GitLab里的项目，如果想启用持续集成。只需在项目仓库的根目录下创建一个 <code>.gitlab-ci.yml</code>即可。关于此配置文件的全部介绍，可参见<a href="https://docs.gitlab.com/ce/ci/yaml/README.html" target="_blank" rel="noopener">官方文档</a>。</p>
<p>以下是我使用<code>vue-admin-template</code> demo项目作为练手，配置持续集成和持续部署的配置文件如下：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cache:</span></span><br><span class="line">  <span class="attr">paths:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">node_modules/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">stages:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">build</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">test</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">deploy</span></span><br><span class="line"></span><br><span class="line"><span class="attr">build:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">build</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">shell</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">--registry=https://registry.npm.taobao.org</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">build</span></span><br><span class="line">  <span class="attr">artifacts:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">"$CI_JOB_NAME-$CI_COMMIT_REF_NAME"</span></span><br><span class="line">    <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">dist/</span></span><br><span class="line">    <span class="attr">expire_in:</span> <span class="number">3</span> <span class="string">days</span></span><br><span class="line"></span><br><span class="line"><span class="attr">test:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">test</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">shell</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">'execute test...'</span></span><br><span class="line">  <span class="attr">when:</span> <span class="string">on_success</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy_test:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">deploy</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">shell</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">rsync</span> <span class="string">-avzh</span> <span class="string">--progress</span> <span class="string">--stats</span> <span class="string">--delete</span> <span class="string">./dist/</span> <span class="string">"$SRV_PATH_TEST"</span></span><br><span class="line">  <span class="attr">environment:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">test</span></span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">dev</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy_pre:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">deploy</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">shell</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">rsync</span> <span class="string">-avzh</span> <span class="string">--progress</span> <span class="string">--stats</span> <span class="string">--delete</span> <span class="string">./dist/</span> <span class="string">"$SRV_PATH_PRE"</span></span><br><span class="line">  <span class="attr">environment:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">pre</span> </span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">pre</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy_pro:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">deploy</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">rsync</span> <span class="string">-avzh</span> <span class="string">--progress</span> <span class="string">--stats</span> <span class="string">--delete</span> <span class="string">./dist/</span> <span class="string">"$SRV_PATH_PRO"</span></span><br><span class="line">  <span class="attr">environment:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">pro</span> </span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line">  <span class="attr">when:</span> <span class="string">manual</span></span><br></pre></td></tr></table></figure>
<p>配置文件解读：</p>
<ul>
<li>cache 配置构建完后需要保存的文件。为了加快构建，需要缓存node_modules目录的文件，否则每次npm install 都需要重新安装一遍，太慢。</li>
<li>stages 描述CI/CD流水线一共几个阶段，这里可以看到，我指定了三个阶段：build、test、deploy。</li>
<li>build 属于构建任务(Job)<ul>
<li>stage 指定任务所属的阶段</li>
<li>tags 指定可以执行此构建任务的runner需要含有的标签</li>
<li>script 具体执行构建的脚本指令</li>
<li>artifacts 构建产生的目标产物<ul>
<li>name 指定目标产物压缩包的名字</li>
<li>paths 指定目标产物的路径</li>
<li>expire_in 指定目标产物保存的时长，超过时长后会自动删除</li>
</ul>
</li>
</ul>
</li>
<li>test 属于测试任务(Job)<ul>
<li>when <code>on_success</code>只有当先前阶段的所有任务都执行成功，才会触发本任务</li>
</ul>
</li>
<li>deploy_test 测试环境部署任务(Job)<ul>
<li>script 这里使用rsync工具，将构建产物同步到Web服务器代码目录里。<code>$SRV_PATH_TEST</code>属于自定义的私密变量，可在GitLab上<code>group_name/project_name/settings/ci_cd</code>页面中进行设置。另外，此页面底部有关于构建和测试覆盖的徽章的设置代码，可以拷贝到项目根目录的README.md文档中，这样就能查看项目构建动态以及测试覆盖度了。<br><img src="http://img.iaquam.com/image/png/gitlab-secret-variable.png" alt></li>
<li>environment 部署环境，可在GitLab上<code>group_name/project_name/environments</code>页面中设置。<br><img src="http://img.iaquam.com/image/png/gitlab-environments.png" alt><ul>
<li>name 当前构建任务对应的环境，需要跟页面中设置的一致</li>
</ul>
</li>
<li>only 指定只运行哪些分支或者标签(tag)的代码。这里的<code>dev</code>表示，当dev分支上有代码变更时触发此部署。</li>
</ul>
</li>
<li>deploy_pre 预发布环境部署任务(Job)<ul>
<li>only 这里的<code>pre</code>表示，当pre分支上有代码变更时触发此部署。</li>
</ul>
</li>
<li>deploy_pro 生产环境部署任务(Job)<ul>
<li>only 这里的<code>master</code>表示，当master分支上有代码变更时触发此部署。</li>
<li>when <code>manual</code>表示生产环境的部署任务，需要手动来触发。</li>
</ul>
</li>
</ul>
<p>运行效果图：</p>
<ul>
<li>CI/CD流水线列表<br><img src="http://img.iaquam.com/image/png/gitlab-pipelines.png" alt></li>
<li>CI/CD流水线详情<br><img src="http://img.iaquam.com/image/png/gitlab-pipelines-detail.png" alt></li>
<li>构建任务执行详情<br><img src="http://img.iaquam.com/image/png/gitlab-job-build1.png" alt><br><img src="http://img.iaquam.com/image/png/gitlab-job-build2.png" alt></li>
<li>测试任务执行详情<br><img src="http://img.iaquam.com/image/png/gitlab-job-test.png" alt></li>
<li>部署任务执行详情<br><img src="http://img.iaquam.com/image/png/gitlab-job-deploy1.png" alt><br><img src="http://img.iaquam.com/image/png/gitlab-job-deploy2.png" alt></li>
</ul>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://victor87.coding.me/2019/02/21/GitLab持续集成CI/" data-id="ck4ccwn28000u19vp67cweh5y" class="article-share-link">分享到</a><div class="tags"><a href="/tags/持续集成/">持续集成</a><a href="/tags/git/">git</a><a href="/tags/GitLab/">GitLab</a></div><div class="post-nav"><a href="/2019/05/21/PHP数据类型声明那些事/" class="pre">PHP数据类型声明那些事</a><a href="/2019/02/20/GitLab重置管理员密码/" class="next">GitLab重置管理员密码</a></div><div data-thread-key="2019/02/21/GitLab持续集成CI/" data-title="GitLab持续集成CI" data-url="http://victor87.coding.me/2019/02/21/GitLab持续集成CI/" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到：</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><div data-thread-key="2019/02/21/GitLab持续集成CI/" data-title="GitLab持续集成CI" data-url="http://victor87.coding.me/2019/02/21/GitLab持续集成CI/" data-author-key="1" class="ds-thread"></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://victor87.coding.me"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML5/">HTML5</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/IoT/">IoT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mac/">Mac</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/">Ruby</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS-Mac/">iOS & Mac</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/产品/">产品</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/大数据-AI/">大数据 & AI</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂谈/">杂谈</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络安全/">网络安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/项目管理/">项目管理</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/消息队列/" style="font-size: 15px;">消息队列</a> <a href="/tags/EasyDL/" style="font-size: 15px;">EasyDL</a> <a href="/tags/Android-Studio/" style="font-size: 15px;">Android Studio</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/Android-Things/" style="font-size: 15px;">Android Things</a> <a href="/tags/物联网/" style="font-size: 15px;">物联网</a> <a href="/tags/NXP-i-MX7D/" style="font-size: 15px;">NXP i.MX7D</a> <a href="/tags/动画/" style="font-size: 15px;">动画</a> <a href="/tags/HTML5/" style="font-size: 15px;">HTML5</a> <a href="/tags/Centos/" style="font-size: 15px;">Centos</a> <a href="/tags/PHP/" style="font-size: 15px;">PHP</a> <a href="/tags/Jenkins/" style="font-size: 15px;">Jenkins</a> <a href="/tags/持续集成/" style="font-size: 15px;">持续集成</a> <a href="/tags/Github/" style="font-size: 15px;">Github</a> <a href="/tags/Coding/" style="font-size: 15px;">Coding</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/Markdown/" style="font-size: 15px;">Markdown</a> <a href="/tags/博客/" style="font-size: 15px;">博客</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/Firebase/" style="font-size: 15px;">Firebase</a> <a href="/tags/GitLab/" style="font-size: 15px;">GitLab</a> <a href="/tags/travis/" style="font-size: 15px;">travis</a> <a href="/tags/计算机基础/" style="font-size: 15px;">计算机基础</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Annotation/" style="font-size: 15px;">Annotation</a> <a href="/tags/Runtime/" style="font-size: 15px;">Runtime</a> <a href="/tags/动态代理/" style="font-size: 15px;">动态代理</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/守护进程/" style="font-size: 15px;">守护进程</a> <a href="/tags/启动流程/" style="font-size: 15px;">启动流程</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/备份/" style="font-size: 15px;">备份</a> <a href="/tags/还原/" style="font-size: 15px;">还原</a> <a href="/tags/Mac/" style="font-size: 15px;">Mac</a> <a href="/tags/Homebrew/" style="font-size: 15px;">Homebrew</a> <a href="/tags/Ruby/" style="font-size: 15px;">Ruby</a> <a href="/tags/Windows/" style="font-size: 15px;">Windows</a> <a href="/tags/MongoDB/" style="font-size: 15px;">MongoDB</a> <a href="/tags/NoSQL/" style="font-size: 15px;">NoSQL</a> <a href="/tags/MQTT/" style="font-size: 15px;">MQTT</a> <a href="/tags/Mosquitto/" style="font-size: 15px;">Mosquitto</a> <a href="/tags/深度学习/" style="font-size: 15px;">深度学习</a> <a href="/tags/权限认证/" style="font-size: 15px;">权限认证</a> <a href="/tags/QQ授权/" style="font-size: 15px;">QQ授权</a> <a href="/tags/Redmine/" style="font-size: 15px;">Redmine</a> <a href="/tags/Rails/" style="font-size: 15px;">Rails</a> <a href="/tags/Shell/" style="font-size: 15px;">Shell</a> <a href="/tags/R/" style="font-size: 15px;">R</a> <a href="/tags/数据分析/" style="font-size: 15px;">数据分析</a> <a href="/tags/科学计算/" style="font-size: 15px;">科学计算</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/微服务/" style="font-size: 15px;">微服务</a> <a href="/tags/Spring-Boot/" style="font-size: 15px;">Spring Boot</a> <a href="/tags/Systemd/" style="font-size: 15px;">Systemd</a> <a href="/tags/Vim/" style="font-size: 15px;">Vim</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/Xcode/" style="font-size: 15px;">Xcode</a> <a href="/tags/Yii2/" style="font-size: 15px;">Yii2</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/HTTPS/" style="font-size: 15px;">HTTPS</a> <a href="/tags/图片浏览器/" style="font-size: 15px;">图片浏览器</a> <a href="/tags/宏定义/" style="font-size: 15px;">宏定义</a> <a href="/tags/软键盘/" style="font-size: 15px;">软键盘</a> <a href="/tags/图片截取/" style="font-size: 15px;">图片截取</a> <a href="/tags/Memcached/" style="font-size: 15px;">Memcached</a> <a href="/tags/Redis/" style="font-size: 15px;">Redis</a> <a href="/tags/Gitlab/" style="font-size: 15px;">Gitlab</a> <a href="/tags/Swoole/" style="font-size: 15px;">Swoole</a> <a href="/tags/产品/" style="font-size: 15px;">产品</a> <a href="/tags/需求分析/" style="font-size: 15px;">需求分析</a> <a href="/tags/Range/" style="font-size: 15px;">Range</a> <a href="/tags/重叠/" style="font-size: 15px;">重叠</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/移动支付/" style="font-size: 15px;">移动支付</a> <a href="/tags/985/" style="font-size: 15px;">985</a> <a href="/tags/211/" style="font-size: 15px;">211</a> <a href="/tags/大学分布/" style="font-size: 15px;">大学分布</a> <a href="/tags/Fresco/" style="font-size: 15px;">Fresco</a> <a href="/tags/ARC/" style="font-size: 15px;">ARC</a> <a href="/tags/端口映射/" style="font-size: 15px;">端口映射</a> <a href="/tags/设计/" style="font-size: 15px;">设计</a> <a href="/tags/启动原理/" style="font-size: 15px;">启动原理</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/12/19/如何将内网Web服务暴露给外网访问/">如何将内网Web服务暴露给外网访问</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/18/5分钟教你实现头像识别/">5分钟教你实现头像识别</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/20/Mac双系统安装/">Mac双系统安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/22/Centos7-php升级/">Centos7 php升级</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/21/PHP数据类型声明那些事/">PHP数据类型声明那些事</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/21/GitLab持续集成CI/">GitLab持续集成CI</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/20/GitLab重置管理员密码/">GitLab重置管理员密码</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/15/Git冲突解决方案/">Git冲突解决方案</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/22/Spring-Boot入门/">Spring Boot入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/06/区间Range重叠算法/">区间Range重叠算法</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-comment-o"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://jikedaohang.com/" title="极客导航" target="_blank">极客导航</a><ul></ul><a href="http://www.rowkey.me/" title="后端技术杂谈" target="_blank">后端技术杂谈</a><ul></ul><a href="http://www.fancyecommerce.com/" title="YII2 教程" target="_blank">YII2 教程</a><ul></ul><a href="http://objccn.io/" title="objc中国" target="_blank">objc中国</a><ul></ul><a href="http://www.ruanyifeng.com/" title="阮一峰的个人网站" target="_blank">阮一峰的个人网站</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Victor.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var duoshuoQuery = {short_name:'wangsheng87'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>